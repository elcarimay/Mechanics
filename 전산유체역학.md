```python
def Implicit(dx, x_max, dt, t_max, legend_plot = 1):
    x, t = np.arange(0, x_max+dx, dx).round(3), np.arange(0,t_max+dt, dt).round(3)
    bc = [0,0]; lx, lt = len(x), len(t)
    initial = np.sin(np.pi*x)
    T = np.zeros((len(t),len(x)))
    T[:,0], T[:,-1], T[0,:] = bc[0], bc[1], initial
    alpha = dt/dx**2
    mat = np.diag([1+2*alpha]*(lx-2),0) + np.diag([-alpha]*(lx-3),-1) + np.diag([-alpha]*(lx-3),1)
    for c in range(1,len(T)):
        b = T[c-1,1:-1]
        b[0], b[-1] = b[0] + alpha*T[c,1], b[-1] + alpha*T[c,-1]
        T[c,1:-1] = np.linalg.solve(mat, b)
    T.round(3)
    R, B, G = np.linspace(1,0,len(T)), np.linspace(0,1,len(T)), 0
    ext_sol = Exact(t,x)
    for i in range(len(t)):
        plt.plot(x,ext_sol[i], color = [R[i], G, B[i]])
    for i in range(len(T)):
        plt.plot(x,T[i], 's',color = [R[i], G, B[i]])
    plt.title('$Points=%d,dt=%1.4f,dx=%1.3f$,Line=Exact.Sol.,Ret.:Cal.Value'%(len(x),dt,dx))
    plt.xlabel('distance [m]')
    plt.ylabel('Temperature [degree C]')
    if(legend_plot):
        plt.legend([f't = {value} s' for value in t])
    plt.grid()

def Crank_Nicholson(dx, x_max, dt, t_max, legend_plot = 1):
    x, t = np.arange(0, x_max+dx, dx).round(3), np.arange(0,t_max+dt, dt).round(3)
    bc = [0,0]; lx, lt = len(x), len(t)
    initial = np.sin(np.pi*x)
    T = np.zeros((len(t),len(x)))
    T[:,0], T[:,-1], T[0,:] = bc[0], bc[1], initial
    alpha = dt/dx**2
    A = np.diag([2*(1+alpha)]*(lx-2),0) + np.diag([-alpha]*(lx-3),-1) + np.diag([-alpha]*(lx-3),1)
    B = np.diag([2*(1-alpha)]*(lx-2),0) + np.diag([alpha]*(lx-3),-1) + np.diag([alpha]*(lx-3),1)
    for c in range(1,len(T)):
        b = T[c-1,1:-1]
        b = np.dot(B,b)
        b[0], b[-1] = b[0] + alpha*(T[c-1,1]+T[c,1]), b[-1] + alpha*(T[c-1,-1]+T[c,-1])
        T[c,1:-1] = np.linalg.solve(A, b)
    T.round(3)
    R, B, G = np.linspace(1,0,len(T)), np.linspace(0,1,len(T)), 0
    ext_sol = Exact(t,x)
    for i in range(len(t)):
        plt.plot(x,ext_sol[i], color = [R[i], G, B[i]])
    for i in range(len(T)):
        plt.plot(x,T[i], 's',color = [R[i], G, B[i]])
    plt.title('$Points=%d,dt=%1.4f,dx=%1.3f$,Line=Exact.Sol.,Ret.:Cal.Value'%(len(x),dt,dx))
    plt.xlabel('distance [m]')
    plt.ylabel('Temperature [degree C]')
    if(legend_plot):
        plt.legend([f't = {value} s' for value in t])
    plt.grid()
dx, x_max, dt, t_max = 0.25, 1, 0.025, 0.1
Crank_Nicholson(dx, x_max, dt, t_max)
```
